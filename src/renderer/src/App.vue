<template>
    <div>
        <button @click="runCrawl" class="run-crawl-button">ç‚¹æˆ‘æ‰§è¡Œè„šæœ¬æ–‡ä»¶</button>
        <Test />
    </div>
</template>

<script setup>
import { ref } from 'vue';
import Test from './views/Test.vue';

const results = ref([]); // ç»“æ„åŒ–æ•°æ®é›†åˆ

const runCrawl = async () => {
    const res = await window.electronAPI.runUserCrawl();
    console.log('ğŸ‘€ è°ƒç”¨äº† runUserCrawl')
    if (res.success) {
        // å‡è®¾æ¯æ¬¡æŠ“å–è¿”å›çš„æ˜¯ä¸€ä¸ªæ•°ç»„
        // results.value.push(...res.data); // åˆå¹¶åˆ°æ€»é›†åˆ
        // æˆ–è€… results.value.push(res.data); // å¦‚æœä½ æƒ³åˆ†æ‰¹ä¿å­˜
    } else {
        // ä¹Ÿå¯ä»¥ç”¨ä¸€ä¸ªä¸“é—¨çš„ error é›†åˆä¿å­˜é”™è¯¯
        console.log('å‡ºé”™äº†: ' + res.error);
    }
};
</script>

<style scoped>
.run-crawl-button {
    display: flex;
    justify-self: center;
}
</style>